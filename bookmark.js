javascript:(function(){const e=document,t=e.createElement("script");if(window.AI_ASSISTANT_LOADED)return void alert("O assistente já está carregado!");window.AI_ASSISTANT_LOADED=!0,t.textContent=`(function(){const e={API_KEY:"AIzaSyDSIy5m7mTXlMMR_OOdCu2Af_EwoCd124w",API_URL:"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent",INITIAL_MESSAGE:"Olá! Sou seu assistente IA. Como posso ajudar?",THEME:{primary:"#4361ee",secondary:"#3f37c9",background:"#ffffff",text:"#333333"}};if(document.getElementById("floating-ai-container"))return;const t=document.createElement("style");t.textContent='#floating-ai-container{position:fixed;bottom:20px;right:20px;width:350px;height:500px;background:${e.THEME.background};border-radius:15px;box-shadow:0 5px 15px rgba(0,0,0,.2);display:flex;flex-direction:column;z-index:9999;overflow:hidden;font-family:\"Segoe UI\",Tahoma,Geneva,Verdana,sans-serif}#floating-ai-container.minimized{height:40px;width:40px;overflow:hidden}.ai-header{background:linear-gradient(135deg,${e.THEME.primary},${e.THEME.secondary});color:#fff;padding:12px 15px;display:flex;justify-content:space-between;align-items:center;cursor:move}.ai-title{font-weight:600;font-size:15px}.ai-toggle{background:0 0;border:none;color:#fff;font-size:18px;cursor:pointer}.ai-content{flex:1;display:flex;flex-direction:column;padding:15px;overflow:hidden}.ai-messages{flex:1;overflow-y:auto;margin-bottom:15px}.message{max-width:85%;padding:10px 15px;border-radius:18px;margin-bottom:10px;line-height:1.4;font-size:14px;animation:fadeIn .3s ease}@keyframes fadeIn{from{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}.user-message{background:linear-gradient(135deg,${e.THEME.primary},${e.THEME.secondary});color:#fff;align-self:flex-end}.bot-message{background:#f5f7fa;color:${e.THEME.text};align-self:flex-start}.ai-input-container{display:flex;gap:10px}#ai-user-input{flex:1;padding:10px 15px;border:1px solid #e0e0e0;border-radius:20px;outline:0}.ai-send-btn{background:linear-gradient(135deg,${e.THEME.primary},${e.THEME.secondary});color:#fff;border:none;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer}.typing-indicator{display:inline-flex;gap:5px}.typing-indicator span{width:8px;height:8px;background:#666;border-radius:50%;animation:typing 1s infinite}@keyframes typing{0%,100%{transform:translateY(0);opacity:.6}50%{transform:translateY(-3px);opacity:1}}.ai-minimized{position:fixed;bottom:20px;right:20px;width:40px;height:40px;background:linear-gradient(135deg,${e.THEME.primary},${e.THEME.secondary});color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:9999;font-weight:700}',document.head.appendChild(t);const n=document.createElement("div");n.id="floating-ai-container",n.innerHTML='<div class="ai-header"><div class="ai-title">Assistente IA</div><button class="ai-toggle" id="ai-toggle-btn">−</button></div><div class="ai-content"><div class="ai-messages" id="ai-messages"><div class="message bot-message">'+e.INITIAL_MESSAGE+'</div></div><div class="ai-input-container"><input type="text" id="ai-user-input" placeholder="Digite sua mensagem..."><button class="ai-send-btn" id="ai-send-btn">→</button></div></div>',document.body.appendChild(n);const a=document.createElement("div");a.className="ai-minimized",a.innerHTML="IA",a.style.display="none",document.body.appendChild(a);const i=document.getElementById("ai-toggle-btn"),d=document.getElementById("ai-messages"),c=document.getElementById("ai-user-input"),o=document.getElementById("ai-send-btn");let l=!1,s=!1,r={x:0,y:0};const p=()=>{d.scrollTop=d.scrollHeight},u=(t,n)=>{const a=document.createElement("div");a.className=\`message \${t?"user-message":"bot-message"}\`,a.textContent=n,d.appendChild(a),p()},m=()=>{const t=document.createElement("div");t.className="message bot-message",t.innerHTML='<div class="typing-indicator"><span></span><span></span><span></span></div>',d.appendChild(t),p();return t};i.addEventListener("click",()=>{l=!l,n.classList.toggle("minimized",l),a.style.display=l?"flex":"none",i.textContent=l?"+":"−"}),a.addEventListener("click",()=>{l=!l,n.classList.toggle("minimized",l),a.style.display=l?"flex":"none",i.textContent=l?"+":"−"});const h=e=>{s=!0;const t=n.getBoundingClientRect();r={x:e.clientX-t.left,y:e.clientY-t.top},n.style.cursor="grabbing"},g=e=>{s&&(n.style.left=\`\${e.clientX-r.x}px\`,n.style.top=\`\${e.clientY-r.y}px\`)},f=()=>{s=!1,n.style.cursor="grab"};n.querySelector(".ai-header").addEventListener("mousedown",h),document.addEventListener("mousemove",g),document.addEventListener("mouseup",f);const v=async()=>{const e=c.value.trim();if(!e)return;u(!0,e),c.value="";const t=m();try{const n=await fetch(\`\${e.API_URL}?key=\${e.API_KEY}\`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:e}]}]})}),a=await n.json();t.remove(),u(!1,a?.candidates?.[0]?.content?.parts?.[0]?.text||"Não consegui gerar uma resposta.")}catch(e){console.error("Erro na API:",e),t.remove(),u(!1,"Erro ao conectar com a IA. Tente novamente.")}};o.addEventListener("click",v),c.addEventListener("keypress",e=>{"Enter"===e.key&&v()})})();`,e.head.appendChild(t)})();
